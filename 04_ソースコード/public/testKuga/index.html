<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title></title>
  <!-- quiz.jsを読み込む -->
  <script src="quiz.js"></script>
  <script>
    // questionsの配列を作成
    // alert(questions[0].question);
  </script>


</head>

<body>
  <p>レコードの挿入 テストページ</p>
  <button onclick="alert('hello');">InsertRecord</button>
  <a href="javascript:Proc();">InsertRecord</a><br />
  <button onclick="alert(questions[0].question);">InsertRecord</button>



  <hr>
  <script>
    function my_proc(questions) {
      const jsonStr = JSON.stringify(questions);
      // const json = JSON.stringify({
      //   "Language": "jp"

      // });
      const body = new FormData();
      body.append('json', jsonStr);
      const url = "api.php";
      fetch(url, {
        method: 'post',
        body
      }).then(res => res.text()).then(txt => out.textContent = txt);
    }
    // window.addEventListener('DOMContentLoaded', () => {
    //   get.addEventListener('click', (questions) => {
    //     const quest = questions;
    //     // const json = JSON.stringify({
    //     //   "Language": "jp"

    //     // });
    //     const body = new FormData();
    //     body.append('json', json);
    //     const url = "api.php";
    //     fetch(url, {
    //       method: 'post',
    //       body
    //     }).then(res => res.text()).then(txt => out.textContent = txt);
    //   });
    // });
  </script>
  <!-- <input type="button" value="get" id="get"> -->
  <input type="button" value="get" id="get">
  <button onclick="my_proc(questions);">InsertRecord</button>
  <div id="out"></div>
</body>

</html>